{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/components/NoteCreator.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, forwardRef } from 'react';\r\nimport { Note } from '../app/page';\r\nimport { createClientComponentClient } from '@supabase/auth-helpers-nextjs';\r\nimport { User } from '@supabase/supabase-js';\r\n\r\ninterface NoteCreatorProps {\r\n  user: User | null;\r\n  onNoteAdd: (title: string, content: string, file: File | null) => void;\r\n  onNoteUpdate: (title: string, content: string, file: File | null) => void;\r\n  editingNote: Note | null;\r\n  setEditingNote: (note: Note | null) => void;\r\n}\r\n\r\nconst NoteCreator = forwardRef<HTMLDivElement, NoteCreatorProps>(({ user, onNoteAdd, onNoteUpdate, editingNote, setEditingNote }, ref) => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [fileName, setFileName] = useState<string>(\"\");\r\n  const [isSuggestingTags, setIsSuggestingTags] = useState(false);\r\n  const [suggestedTags, setSuggestedTags] = useState<string[]>([]);\r\n  const [isSuggestingContent, setIsSuggestingContent] = useState(false);\r\n  const [contentSuggestions, setContentSuggestions] = useState<string[]>([]);\r\n  \r\n  const supabase = createClientComponentClient();\r\n\r\n  useEffect(() => {\r\n    if (editingNote) {\r\n      setTitle(editingNote.title);\r\n      setContent(editingNote.content);\r\n      setImageFile(null);\r\n      setFileName(\"\");\r\n      setSuggestedTags([]);\r\n      setContentSuggestions([]);\r\n    } else {\r\n      setTitle(\"\");\r\n      setContent(\"\");\r\n    }\r\n  }, [editingNote]);\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      const file = e.target.files[0];\r\n      setImageFile(file);\r\n      setFileName(file.name);\r\n    }\r\n  };\r\n\r\nconst handleSubmit = () => {\r\n    if (title.trim()) {\r\n      // D√úZELTME: Sadece editingNote'un varlƒ±ƒüƒ±na deƒüil, ID'sinin 0'dan farklƒ±\r\n      // olduƒüuna da bakarak bunun mevcut bir not olduƒüunu anlƒ±yoruz.\r\n      if (editingNote && editingNote.id !== 0) { \r\n        onNoteUpdate(title, content, imageFile);\r\n      } else { \r\n        onNoteAdd(title, content, imageFile);\r\n      }\r\n\r\n      setTitle(\"\");\r\n      setContent(\"\");\r\n      setImageFile(null);\r\n      setFileName(\"\");\r\n      setSuggestedTags([]);\r\n      setContentSuggestions([]);\r\n      const fileInput = document.getElementById('file-upload') as HTMLInputElement;\r\n      if (fileInput) fileInput.value = \"\";\r\n    } else {\r\n      alert(\"L√ºtfen bir ba≈ülƒ±k girin.\");\r\n    }\r\n  };\r\n  \r\n  const handleSuggestTags = async () => {\r\n    if (!user) {\r\n      alert(\"Kullanƒ±cƒ± bilgisi bulunamadƒ±.\");\r\n      return;\r\n    }\r\n    if (!content.trim() && !title.trim()) {\r\n      alert(\"Etiket √∂nermesi i√ßin l√ºtfen √∂nce bir ba≈ülƒ±k veya i√ßerik yazƒ±n.\");\r\n      return;\r\n    }\r\n    setIsSuggestingTags(true);\r\n    setSuggestedTags([]);\r\n    try {\r\n      const { data, error } = await supabase.functions.invoke('suggest-tags', {\r\n        body: { title, content, userId: user.id },\r\n      });\r\n      if (error) throw error;\r\n      const existingTagsInContent = content.match(/#\\w+/g)?.map(t => t.substring(1).toLowerCase()) || [];\r\n      const newSuggestions = data.tags.filter((tag: string) => !existingTagsInContent.includes(tag.toLowerCase()));\r\n      setSuggestedTags(newSuggestions);\r\n    } catch (error: any) {\r\n      alert(`Etiket √∂nerisi alƒ±nƒ±rken hata: ${error.message}`);\r\n    } finally {\r\n      setIsSuggestingTags(false);\r\n    }\r\n  };\r\n\r\n  const handleSuggestContent = async () => {\r\n    if (!user) {\r\n      alert(\"Kullanƒ±cƒ± bilgisi bulunamadƒ±.\");\r\n      return;\r\n    }\r\n    if (!content.trim() && !title.trim()) {\r\n      alert(\"ƒ∞√ßerik √∂nermesi i√ßin l√ºtfen √∂nce bir ba≈ülƒ±k veya i√ßerik yazƒ±n.\");\r\n      return;\r\n    }\r\n    setIsSuggestingContent(true);\r\n    setContentSuggestions([]);\r\n    try {\r\n      const { data, error } = await supabase.functions.invoke('suggest-content', {\r\n        body: { title, content },\r\n      });\r\n      if (error) throw error;\r\n      setContentSuggestions(data.suggestions);\r\n    } catch (error: any) {\r\n      alert(`ƒ∞√ßerik √∂nerisi alƒ±nƒ±rken hata: ${error.message}`);\r\n    } finally {\r\n      setIsSuggestingContent(false);\r\n    }\r\n  };\r\n\r\n  const appendTag = (tag: string) => {\r\n    setContent(prevContent => `${prevContent.trim()} #${tag} `);\r\n  };\r\n\r\n  return (\r\n    <div ref={ref} className=\"mt-12 w-full max-w-2xl\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"w-full p-4 mb-4 border border-gray-600 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n        placeholder=\"Not Ba≈ülƒ±ƒüƒ±\"\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n      <textarea\r\n        className=\"w-full h-40 p-4 border border-gray-600 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n        placeholder=\"Aklƒ±nƒ±zdan ne ge√ßiyor? [[Baƒülantƒ±]] veya #etiket kullanabilirsiniz.\"\r\n        value={content}\r\n        onChange={(e) => setContent(e.target.value)}\r\n      />\r\n      \r\n      <div className=\"mt-4 flex justify-between items-center\">\r\n        <label htmlFor=\"file-upload\" className=\"cursor-pointer text-blue-400 hover:text-blue-500 p-2 rounded-md hover:bg-gray-700\">\r\n          {fileName ? `Se√ßilen: ${fileName}` : 'üñºÔ∏è Bir Resim Ekle'}\r\n        </label>\r\n        <input id=\"file-upload\" type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleFileChange} />\r\n        \r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={handleSuggestContent}\r\n            disabled={isSuggestingContent}\r\n            className=\"px-4 py-2 text-sm bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-green-900 disabled:cursor-not-allowed\"\r\n          >\r\n            {isSuggestingContent ? '√ñneriliyor...' : 'üß† ƒ∞√ßerik √ñner'}\r\n          </button>\r\n          <button\r\n            onClick={handleSuggestTags}\r\n            disabled={isSuggestingTags}\r\n            className=\"px-4 py-2 text-sm bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 disabled:bg-purple-900 disabled:cursor-not-allowed\"\r\n          >\r\n            {isSuggestingTags ? '√ñneriliyor...' : '‚ú® Etiket √ñner'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {suggestedTags.length > 0 && (\r\n        <div className=\"mt-4 p-2 bg-gray-800 rounded-lg\">\r\n          <p className=\"text-sm text-gray-400 mb-2\">√ñnerilen Etiketler (eklemek i√ßin tƒ±kla):</p>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {suggestedTags.map(tag => (\r\n              <button key={tag} onClick={() => appendTag(tag)} className=\"px-2 py-1 text-xs bg-gray-600 rounded-full hover:bg-gray-500\">\r\n                #{tag}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {contentSuggestions.length > 0 && (\r\n        <div className=\"mt-4 p-3 bg-gray-800 rounded-lg\">\r\n          <p className=\"text-sm text-gray-400 mb-2\">ƒ∞√ßerik √ñnerileri:</p>\r\n          <ul className=\"list-disc list-inside space-y-1 text-gray-300\">\r\n            {contentSuggestions.map((suggestion, index) => (\r\n              <li key={index}>{suggestion}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex justify-end items-center mt-4\">\r\n        {editingNote && (\r\n          <button onClick={() => setEditingNote(null)} className=\"px-6 py-2 text-gray-400 font-semibold rounded-lg hover:bg-gray-700\">\r\n            ƒ∞ptal\r\n          </button>\r\n        )}\r\n        <button onClick={handleSubmit} className=\"ml-4 px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n          {editingNote ? 'Notu G√ºncelle' : 'Notu Kaydet'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nNoteCreator.displayName = 'NoteCreator';\r\nexport default NoteCreator;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/components/NoteList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from 'react';\r\nimport { Note } from '../app/page';\r\n\r\ninterface NoteListProps {\r\n  notes: Note[];\r\n  onSelectNote: (note: Note) => void;\r\n  activeNoteId?: number | null;\r\n  viewMode: 'list' | 'graph' | 'flashcard' | 'review';\r\n  setViewMode: (mode: 'list' | 'graph' | 'flashcard' | 'review') => void;\r\n  onNewNote: () => void;\r\n  onStartReview: () => void;\r\n  selectedNoteIds: Set<number>;\r\n  onNoteSelectionChange: (noteId: number) => void;\r\n  isQuizGeneratorVisible: boolean;\r\n  onToggleQuizGenerator: () => void;\r\n  searchTerm: string;\r\n  onSearchChange: (term: string) => void;\r\n}\r\n\r\nexport default function NoteList({ \r\n  notes, \r\n  onSelectNote, \r\n  activeNoteId, \r\n  viewMode, \r\n  setViewMode, \r\n  onNewNote, \r\n  onStartReview,\r\n  selectedNoteIds,\r\n  onNoteSelectionChange,\r\n  isQuizGeneratorVisible,\r\n  onToggleQuizGenerator,\r\n  searchTerm,\r\n  onSearchChange\r\n}: NoteListProps) {\r\n\r\n  return (\r\n    <div className=\"w-80 border-r border-gray-700 overflow-y-auto flex-shrink-0 flex flex-col\">\r\n      {/* √úst Kƒ±sƒ±m */}\r\n      <div className=\"p-4 border-b border-gray-700 flex-shrink-0\">\r\n        <button \r\n          onClick={onNewNote} \r\n          className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold mb-4\"\r\n        >\r\n          + Yeni Not Ekle\r\n        </button>\r\n        <div className=\"p-1 bg-gray-800 rounded-lg grid grid-cols-3 gap-1 text-center text-xs mb-4\">\r\n            <button onClick={() => setViewMode('list')} className={`px-2 py-1 rounded-md ${viewMode === 'list' ? 'bg-blue-600' : 'hover:bg-gray-700'}`}>Liste</button>\r\n            <button onClick={() => setViewMode('graph')} className={`px-2 py-1 rounded-md ${viewMode === 'graph' ? 'bg-blue-600' : 'hover:bg-gray-700'}`}>Harita</button>\r\n            <button onClick={() => setViewMode('flashcard')} className={`px-2 py-1 rounded-md ${viewMode === 'flashcard' ? 'bg-blue-600' : 'hover:bg-gray-700'}`}>Kartlar</button>\r\n            <button onClick={onStartReview} className={`px-2 py-1 rounded-md ${viewMode === 'review' ? 'bg-green-600' : 'hover:bg-gray-700'}`}>Tekrar</button>\r\n            <button onClick={onToggleQuizGenerator} className={`px-2 py-1 rounded-md col-span-2 ${isQuizGeneratorVisible ? 'bg-purple-600' : 'hover:bg-gray-700'}`}>ü§ñ AI Quiz</button>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Notlarda ara...\"\r\n          value={searchTerm}\r\n          onChange={(e) => onSearchChange(e.target.value)}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n        />\r\n      </div>\r\n\r\n      {/* Alt Kƒ±sƒ±m: Notlarƒ±n Listesi */}\r\n      <div className=\"p-4 flex-grow overflow-y-auto\">\r\n        {notes.length === 0 ? (\r\n          <p className=\"text-gray-500 text-sm\">G√∂r√ºnt√ºlenecek not yok.</p>\r\n        ) : (\r\n          <ul>\r\n            {notes.map((note) => {\r\n              const isSelected = selectedNoteIds.has(note.id);\r\n              const isActive = activeNoteId === note.id;\r\n\r\n              return (\r\n                <li \r\n                  key={note.id}\r\n                  className={`flex items-center p-3 rounded-lg mb-2 transition-colors cursor-pointer ${\r\n                    isActive ? 'bg-gray-700' : // Aktif (okunan) not\r\n                    isSelected ? 'bg-blue-900' : // Se√ßili not\r\n                    'hover:bg-gray-800'      // Normal not\r\n                  }`}\r\n                  onClick={() => onSelectNote(note)} // Tƒ±klayƒ±nca notu okuma modunda a√ß\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"mr-3 h-4 w-4 rounded bg-gray-600 border-gray-500 text-blue-500 focus:ring-blue-600\"\r\n                    checked={isSelected}\r\n                    onChange={() => onNoteSelectionChange(note.id)}\r\n                    onClick={(e) => e.stopPropagation()} // Checkbox'a tƒ±klayƒ±nca notun a√ßƒ±lmasƒ±nƒ± engelle\r\n                  />\r\n                  <div className=\"flex-grow overflow-hidden\">\r\n                    <h3 className=\"font-semibold truncate text-white\">{note.title || \"Ba≈ülƒ±ksƒ±z Not\"}</h3>\r\n                    <p className=\"text-sm text-gray-400 truncate opacity-70 mt-1\">\r\n                      {note.content\r\n                        .replace(/!\\[.*?\\]\\(.*?\\)/g, '[Resim]')\r\n                        .replace(/#\\w+/g, '')\r\n                        .replace(/\\[\\[.*?\\]\\]/g, '')\r\n                        .replace(/\\s+/g, ' ')\r\n                        .trim() || 'ƒ∞√ßerik yok'}\r\n                    </p>\r\n                  </div>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAAA;;AAqBe,SAAS,SAAS,KAcjB;QAdiB,EAC/B,KAAK,EACL,YAAY,EACZ,YAAY,EACZ,QAAQ,EACR,WAAW,EACX,SAAS,EACT,aAAa,EACb,eAAe,EACf,qBAAqB,EACrB,sBAAsB,EACtB,qBAAqB,EACrB,UAAU,EACV,cAAc,EACA,GAdiB;IAgB/B,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAO,SAAS,IAAM,YAAY;gCAAS,WAAW,AAAC,wBAAiF,OAA1D,aAAa,SAAS,gBAAgB;0CAAuB;;;;;;0CAC5I,6LAAC;gCAAO,SAAS,IAAM,YAAY;gCAAU,WAAW,AAAC,wBAAkF,OAA3D,aAAa,UAAU,gBAAgB;0CAAuB;;;;;;0CAC9I,6LAAC;gCAAO,SAAS,IAAM,YAAY;gCAAc,WAAW,AAAC,wBAAsF,OAA/D,aAAa,cAAc,gBAAgB;0CAAuB;;;;;;0CACtJ,6LAAC;gCAAO,SAAS;gCAAe,WAAW,AAAC,wBAAoF,OAA7D,aAAa,WAAW,iBAAiB;0CAAuB;;;;;;0CACnI,6LAAC;gCAAO,SAAS;gCAAuB,WAAW,AAAC,mCAAiG,OAA/D,yBAAyB,kBAAkB;0CAAuB;;;;;;;;;;;;kCAE5J,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,WAAU;;;;;;;;;;;;0BAKd,6LAAC;gBAAI,WAAU;0BACZ,MAAM,MAAM,KAAK,kBAChB,6LAAC;oBAAE,WAAU;8BAAwB;;;;;yCAErC,6LAAC;8BACE,MAAM,GAAG,CAAC,CAAC;wBACV,MAAM,aAAa,gBAAgB,GAAG,CAAC,KAAK,EAAE;wBAC9C,MAAM,WAAW,iBAAiB,KAAK,EAAE;wBAEzC,qBACE,6LAAC;4BAEC,WAAW,AAAC,0EAIX,OAHC,WAAW,gBACX,aAAa,gBACb,oBAAyB,aAAa;;4BAExC,SAAS,IAAM,aAAa;;8CAE5B,6LAAC;oCACC,MAAK;oCACL,WAAU;oCACV,SAAS;oCACT,UAAU,IAAM,sBAAsB,KAAK,EAAE;oCAC7C,SAAS,CAAC,IAAM,EAAE,eAAe;;;;;;8CAEnC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAG,WAAU;sDAAqC,KAAK,KAAK,IAAI;;;;;;sDACjE,6LAAC;4CAAE,WAAU;sDACV,KAAK,OAAO,CACV,OAAO,CAAC,oBAAoB,WAC5B,OAAO,CAAC,SAAS,IACjB,OAAO,CAAC,gBAAgB,IACxB,OAAO,CAAC,QAAQ,KAChB,IAAI,MAAM;;;;;;;;;;;;;2BAvBZ,KAAK,EAAE;;;;;oBA4BlB;;;;;;;;;;;;;;;;;AAMZ;KAxFwB","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/components/AIQuizGenerator.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { Note } from '../app/page';\r\nimport { createClientComponentClient } from '@supabase/auth-helpers-nextjs';\r\n\r\ninterface AIQuizGeneratorProps {\r\n  selectedNotes: Note[];\r\n}\r\n\r\ninterface Question {\r\n  soru: string;\r\n  secenekler: { [key: string]: string };\r\n  dogruCevap: string;\r\n}\r\n\r\nexport default function AIQuizGenerator({ selectedNotes }: AIQuizGeneratorProps) {\r\n  const [questions, setQuestions] = useState<Question[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const supabase = createClientComponentClient();\r\n\r\n  const handleGenerateQuiz = async () => {\r\n    if (selectedNotes.length === 0) {\r\n      alert(\"L√ºtfen en az bir not se√ßin.\");\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    setError(null);\r\n    setQuestions([]);\r\n\r\n    const noteContents = selectedNotes.map(note => `Ba≈ülƒ±k: ${note.title}\\nƒ∞√ßerik: ${note.content}`);\r\n\r\n    try {\r\n      const { data, error } = await supabase.functions.invoke('generate-questions', {\r\n        body: { noteContents, difficulty: 'orta' }, // Zorluk seviyesini daha sonra dinamik hale getirebiliriz\r\n      });\r\n\r\n      if (error) throw error;\r\n      \r\n      setQuestions(data.questions);\r\n\r\n    } catch (err: any) {\r\n      setError(`Sorular √ºretilirken bir hata olu≈ütu: ${err.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-8 w-full max-w-4xl p-6 bg-gray-800 border border-gray-700 rounded-lg\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Yapay Zeka Soru √úretici</h2>\r\n      <p className=\"text-gray-400 mb-4\">\r\n        Sorular √ºretmek i√ßin listeden bir veya daha fazla not se√ßin. ({selectedNotes.length} not se√ßildi)\r\n      </p>\r\n      <button \r\n        onClick={handleGenerateQuiz}\r\n        disabled={isLoading || selectedNotes.length === 0}\r\n        className=\"px-6 py-2 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 disabled:bg-purple-900 disabled:cursor-not-allowed\"\r\n      >\r\n        {isLoading ? 'Sorular √úretiliyor...' : 'Sorularƒ± √úret'}\r\n      </button>\r\n\r\n      {error && <p className=\"mt-4 text-red-400\">{error}</p>}\r\n\r\n      {questions.length > 0 && (\r\n        <div className=\"mt-6 space-y-6\">\r\n          {questions.map((q, index) => (\r\n            <div key={index} className=\"p-4 bg-gray-700 rounded-lg\">\r\n              <p className=\"font-semibold mb-2\">{index + 1}. {q.soru}</p>\r\n              <ul className=\"space-y-1 list-inside\">\r\n                {Object.entries(q.secenekler).map(([key, value]) => (\r\n                  <li key={key}>{key}) {value}</li>\r\n                ))}\r\n              </ul>\r\n              <p className=\"mt-2 text-green-400 font-bold\">Doƒüru Cevap: {q.dogruCevap}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AAEA;;;AAJA;;;AAgBe,SAAS,gBAAgB,KAAuC;QAAvC,EAAE,aAAa,EAAwB,GAAvC;;IACtC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,WAAW,CAAA,GAAA,2KAAA,CAAA,8BAA2B,AAAD;IAE3C,MAAM,qBAAqB;QACzB,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,MAAM;YACN;QACF;QAEA,aAAa;QACb,SAAS;QACT,aAAa,EAAE;QAEf,MAAM,eAAe,cAAc,GAAG,CAAC,CAAA,OAAQ,AAAC,WAAiC,OAAvB,KAAK,KAAK,EAAC,cAAyB,OAAb,KAAK,OAAO;QAE7F,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,SAAS,CAAC,MAAM,CAAC,sBAAsB;gBAC5E,MAAM;oBAAE;oBAAc,YAAY;gBAAO;YAC3C;YAEA,IAAI,OAAO,MAAM;YAEjB,aAAa,KAAK,SAAS;QAE7B,EAAE,OAAO,KAAU;YACjB,SAAS,AAAC,wCAAmD,OAAZ,IAAI,OAAO;QAC9D,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;gBAAE,WAAU;;oBAAqB;oBAC+B,cAAc,MAAM;oBAAC;;;;;;;0BAEtF,6LAAC;gBACC,SAAS;gBACT,UAAU,aAAa,cAAc,MAAM,KAAK;gBAChD,WAAU;0BAET,YAAY,0BAA0B;;;;;;YAGxC,uBAAS,6LAAC;gBAAE,WAAU;0BAAqB;;;;;;YAE3C,UAAU,MAAM,GAAG,mBAClB,6LAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,GAAG,sBACjB,6LAAC;wBAAgB,WAAU;;0CACzB,6LAAC;gCAAE,WAAU;;oCAAsB,QAAQ;oCAAE;oCAAG,EAAE,IAAI;;;;;;;0CACtD,6LAAC;gCAAG,WAAU;0CACX,OAAO,OAAO,CAAC,EAAE,UAAU,EAAE,GAAG,CAAC;wCAAC,CAAC,KAAK,MAAM;yDAC7C,6LAAC;;4CAAc;4CAAI;4CAAG;;uCAAb;;;;;;;;;;;0CAGb,6LAAC;gCAAE,WAAU;;oCAAgC;oCAAc,EAAE,UAAU;;;;;;;;uBAP/D;;;;;;;;;;;;;;;;AActB;GAnEwB;KAAA","debugId":null}},
    {"offset": {"line": 680, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/components/FlashcardView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { Note } from '../app/page';\r\n\r\ninterface FlashcardViewProps {\r\n  notes: Note[];\r\n}\r\n\r\nexport default function FlashcardView({ notes }: FlashcardViewProps) {\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isFlipped, setIsFlipped] = useState(false);\r\n\r\n  if (notes.length === 0) {\r\n    return (\r\n      <div className=\"mt-8 w-full max-w-2xl text-center p-8 bg-gray-800 rounded-lg\">\r\n        <p className=\"text-gray-400\">Flashcard olu≈üturmak i√ßin en az bir notunuz olmalƒ±.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentNote = notes[currentIndex];\r\n\r\n  const goToNext = () => {\r\n    setIsFlipped(false);\r\n    setCurrentIndex((prevIndex) => (prevIndex + 1) % notes.length);\r\n  };\r\n\r\n  const goToPrev = () => {\r\n    setIsFlipped(false);\r\n    setCurrentIndex((prevIndex) => (prevIndex - 1 + notes.length) % notes.length);\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-8 w-full max-w-2xl flex flex-col items-center\">\r\n      <div className=\"flashcard-container w-full h-80 perspective-1000\">\r\n        <div \r\n          className={`flashcard-inner w-full h-full relative transition-transform duration-700 preserve-3d ${isFlipped ? 'rotate-y-180' : ''}`}\r\n          onClick={() => setIsFlipped(!isFlipped)}\r\n        >\r\n          <div className=\"flashcard-front absolute w-full h-full backface-hidden flex items-center justify-center p-6 bg-gray-800 border border-gray-700 rounded-lg cursor-pointer\">\r\n            <h2 className=\"text-3xl font-bold text-center\">{currentNote.title}</h2>\r\n          </div>\r\n          <div className=\"flashcard-back absolute w-full h-full backface-hidden flex items-center justify-center p-6 bg-gray-700 border border-gray-600 rounded-lg cursor-pointer rotate-y-180\">\r\n            <p className=\"text-center whitespace-pre-wrap\">{currentNote.content}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-6 flex justify-between w-full\">\r\n        <button onClick={goToPrev} className=\"px-6 py-2 bg-gray-600 rounded-lg hover:bg-gray-700\">√ñnceki</button>\r\n        <p className=\"text-gray-400 self-center\">{currentIndex + 1} / {notes.length}</p>\r\n        <button onClick={goToNext} className=\"px-6 py-2 bg-gray-600 rounded-lg hover:bg-gray-700\">Sonraki</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AASe,SAAS,cAAc,KAA6B;QAA7B,EAAE,KAAK,EAAsB,GAA7B;;IACpC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGnC;IAEA,MAAM,cAAc,KAAK,CAAC,aAAa;IAEvC,MAAM,WAAW;QACf,aAAa;QACb,gBAAgB,CAAC,YAAc,CAAC,YAAY,CAAC,IAAI,MAAM,MAAM;IAC/D;IAEA,MAAM,WAAW;QACf,aAAa;QACb,gBAAgB,CAAC,YAAc,CAAC,YAAY,IAAI,MAAM,MAAM,IAAI,MAAM,MAAM;IAC9E;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAW,AAAC,wFAAuH,OAAhC,YAAY,iBAAiB;oBAChI,SAAS,IAAM,aAAa,CAAC;;sCAE7B,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAU;0CAAkC,YAAY,KAAK;;;;;;;;;;;sCAEnE,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAU;0CAAmC,YAAY,OAAO;;;;;;;;;;;;;;;;;;;;;;0BAIzE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,SAAS;wBAAU,WAAU;kCAAqD;;;;;;kCAC1F,6LAAC;wBAAE,WAAU;;4BAA6B,eAAe;4BAAE;4BAAI,MAAM,MAAM;;;;;;;kCAC3E,6LAAC;wBAAO,SAAS;wBAAU,WAAU;kCAAqD;;;;;;;;;;;;;;;;;;AAIlG;GA9CwB;KAAA","debugId":null}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/components/ReviewView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { Note } from '../app/page';\r\n\r\ninterface ReviewViewProps {\r\n  reviewNotes: Note[];\r\n  onReview: (noteId: number, rating: number) => void;\r\n}\r\n\r\nexport default function ReviewView({ reviewNotes, onReview }: ReviewViewProps) {\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isFlipped, setIsFlipped] = useState(false);\r\n\r\n  if (reviewNotes.length === 0) {\r\n    return (\r\n      <div className=\"mt-8 w-full max-w-2xl text-center p-8 bg-gray-800 rounded-lg\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">Tekrar Zamanƒ±</h2>\r\n        <p className=\"text-green-400\">Tebrikler! Tekrar edilecek not kalmadƒ±.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentNote = reviewNotes[currentIndex];\r\n\r\n  const handleRating = (rating: number) => {\r\n    onReview(currentNote.id, rating);\r\n    setIsFlipped(false);\r\n    // Eƒüer son kart deƒüilse bir sonrakine ge√ß\r\n    if (currentIndex < reviewNotes.length - 1) {\r\n      setCurrentIndex(currentIndex + 1);\r\n    } else {\r\n      // Son kart ise \"bitti\" mesajƒ± i√ßin listeyi bo≈üaltmƒ±≈ü gibi davranabiliriz\r\n      // (Bu, ana sayfadaki state tarafƒ±ndan y√∂netilecek)\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-8 w-full max-w-2xl flex flex-col items-center\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Tekrar Zamanƒ± ({reviewNotes.length} not)</h2>\r\n      {/* Flashcard Alanƒ± */}\r\n      <div className=\"flashcard-container w-full h-80 perspective-1000\">\r\n        <div \r\n          className={`flashcard-inner w-full h-full relative transition-transform duration-700 preserve-3d ${isFlipped ? 'rotate-y-180' : ''}`}\r\n          onClick={() => setIsFlipped(!isFlipped)}\r\n        >\r\n          {/* Kartƒ±n √ñn Y√ºz√º (Ba≈ülƒ±k) */}\r\n          <div className=\"flashcard-front absolute w-full h-full backface-hidden flex items-center justify-center p-6 bg-gray-800 border border-gray-700 rounded-lg cursor-pointer\">\r\n            <h2 className=\"text-3xl font-bold text-center\">{currentNote.title}</h2>\r\n          </div>\r\n          {/* Kartƒ±n Arka Y√ºz√º (ƒ∞√ßerik) */}\r\n          <div className=\"flashcard-back absolute w-full h-full backface-hidden flex items-center justify-center p-6 bg-gray-700 border border-gray-600 rounded-lg cursor-pointer rotate-y-180\">\r\n            <p className=\"text-center whitespace-pre-wrap\">{currentNote.content}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Deƒüerlendirme Butonlarƒ± (Kart √ßevrildikten sonra g√∂sterilir) */}\r\n      {isFlipped && (\r\n        <div className=\"mt-6 flex justify-around w-full\">\r\n          <button onClick={() => handleRating(1)} className=\"px-4 py-2 bg-red-600 rounded-lg hover:bg-red-700 w-1/3\">Zor</button>\r\n          <button onClick={() => handleRating(3)} className=\"px-4 py-2 bg-yellow-600 rounded-lg hover:bg-yellow-700 w-1/3\">Normal</button>\r\n          <button onClick={() => handleRating(5)} className=\"px-4 py-2 bg-green-600 rounded-lg hover:bg-green-700 w-1/3\">Kolay</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAUe,SAAS,WAAW,KAA0C;QAA1C,EAAE,WAAW,EAAE,QAAQ,EAAmB,GAA1C;;IACjC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,IAAI,YAAY,MAAM,KAAK,GAAG;QAC5B,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA0B;;;;;;8BACxC,6LAAC;oBAAE,WAAU;8BAAiB;;;;;;;;;;;;IAGpC;IAEA,MAAM,cAAc,WAAW,CAAC,aAAa;IAE7C,MAAM,eAAe,CAAC;QACpB,SAAS,YAAY,EAAE,EAAE;QACzB,aAAa;QACb,0CAA0C;QAC1C,IAAI,eAAe,YAAY,MAAM,GAAG,GAAG;YACzC,gBAAgB,eAAe;QACjC,OAAO;QACL,yEAAyE;QACzE,mDAAmD;QACrD;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;;oBAA0B;oBAAgB,YAAY,MAAM;oBAAC;;;;;;;0BAE3E,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAW,AAAC,wFAAuH,OAAhC,YAAY,iBAAiB;oBAChI,SAAS,IAAM,aAAa,CAAC;;sCAG7B,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAU;0CAAkC,YAAY,KAAK;;;;;;;;;;;sCAGnE,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAU;0CAAmC,YAAY,OAAO;;;;;;;;;;;;;;;;;;;;;;YAMxE,2BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,SAAS,IAAM,aAAa;wBAAI,WAAU;kCAAyD;;;;;;kCAC3G,6LAAC;wBAAO,SAAS,IAAM,aAAa;wBAAI,WAAU;kCAA+D;;;;;;kCACjH,6LAAC;wBAAO,SAAS,IAAM,aAAa;wBAAI,WAAU;kCAA6D;;;;;;;;;;;;;;;;;;AAKzH;GAzDwB;KAAA","debugId":null}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/components/TagSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from 'react';\r\n\r\ninterface Tag {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\ninterface TagSidebarProps {\r\n  tags: Tag[];\r\n  selectedTag: string | null;\r\n  onTagSelect: (tagName: string | null) => void;\r\n}\r\n\r\nexport default function TagSidebar({ tags, selectedTag, onTagSelect }: TagSidebarProps) {\r\n  return (\r\n    <div className=\"w-64 p-4 bg-gray-800 border-r border-gray-700 h-full\">\r\n      <h2 className=\"text-xl font-bold mb-4\">Etiketler</h2>\r\n      <ul className=\"space-y-2\">\r\n        <li>\r\n          <button \r\n            onClick={() => onTagSelect(null)}\r\n            className={`w-full text-left px-2 py-1 rounded ${!selectedTag ? 'bg-blue-600' : 'hover:bg-gray-700'}`}\r\n          >\r\n            T√ºm Notlar\r\n          </button>\r\n        </li>\r\n        {tags.map(tag => (\r\n          <li key={tag.id}>\r\n            <button \r\n              onClick={() => onTagSelect(tag.name)}\r\n              className={`w-full text-left px-2 py-1 rounded ${selectedTag === tag.name ? 'bg-blue-600' : 'hover:bg-gray-700'}`}\r\n            >\r\n              # {tag.name}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAAA;;AAee,SAAS,WAAW,KAAmD;QAAnD,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAmB,GAAnD;IACjC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,6LAAC;gBAAG,WAAU;;kCACZ,6LAAC;kCACC,cAAA,6LAAC;4BACC,SAAS,IAAM,YAAY;4BAC3B,WAAW,AAAC,sCAAwF,OAAnD,CAAC,cAAc,gBAAgB;sCACjF;;;;;;;;;;;oBAIF,KAAK,GAAG,CAAC,CAAA,oBACR,6LAAC;sCACC,cAAA,6LAAC;gCACC,SAAS,IAAM,YAAY,IAAI,IAAI;gCACnC,WAAW,AAAC,sCAAoG,OAA/D,gBAAgB,IAAI,IAAI,GAAG,gBAAgB;;oCAC7F;oCACI,IAAI,IAAI;;;;;;;2BALN,IAAI,EAAE;;;;;;;;;;;;;;;;;AAYzB;KA1BwB","debugId":null}},
    {"offset": {"line": 1080, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/components/FocusView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from 'react';\r\nimport { Note } from '../app/page';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\n\r\ninterface FocusViewProps {\r\n  note: Note;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function FocusView({ note, onClose }: FocusViewProps) {\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-900 bg-opacity-95 z-50 flex justify-center p-8 overflow-y-auto\">\r\n      <div className=\"w-full max-w-4xl\">\r\n        <button \r\n          onClick={onClose}\r\n          className=\"absolute top-4 right-4 px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600\"\r\n        >\r\n          &larr; Geri\r\n        </button>\r\n        <h1 className=\"text-5xl font-bold mb-8 mt-12 text-center\">{note.title}</h1>\r\n        <div className=\"prose prose-invert prose-xl max-w-none mx-auto\">\r\n          <ReactMarkdown remarkPlugins={[remarkGfm]}>\r\n            {note.content}\r\n          </ReactMarkdown>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAIA;AACA;AALA;;;;AAYe,SAAS,UAAU,KAAiC;QAAjC,EAAE,IAAI,EAAE,OAAO,EAAkB,GAAjC;IAChC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;8BAGD,6LAAC;oBAAG,WAAU;8BAA6C,KAAK,KAAK;;;;;;8BACrE,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,2LAAA,CAAA,UAAa;wBAAC,eAAe;4BAAC,gJAAA,CAAA,UAAS;yBAAC;kCACtC,KAAK,OAAO;;;;;;;;;;;;;;;;;;;;;;AAMzB;KAnBwB","debugId":null}},
    {"offset": {"line": 1155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/components/ReadingPane.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Note } from '../app/page';\r\nimport { createClientComponentClient } from '@supabase/auth-helpers-nextjs';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\n\r\ninterface ReadingPaneProps {\r\n  activeNote: Note | null;\r\n  notes: Note[];\r\n  onEdit: (note: Note) => void;\r\n  onNoteLinkClick: (note: Note) => void;\r\n  onGoBack: () => void;\r\n  onGoForward: () => void;\r\n  canGoBack: boolean;\r\n  canGoForward: boolean;\r\n}\r\n\r\nconst WikiLinkRenderer = ({ content, notes, onNoteLinkClick }: { content: string, notes: Note[], onNoteLinkClick: (note: Note) => void }) => {\r\n  if (!content) return null;\r\n\r\n  const parts = content.split(/(\\[\\[.*?\\]\\])/g);\r\n\r\n  return (\r\n    <div className=\"whitespace-pre-wrap\">\r\n      {parts.map((part, index) => {\r\n        if (part.startsWith('[[') && part.endsWith(']]')) {\r\n          const noteTitle = part.substring(2, part.length - 2);\r\n          const linkedNote = notes.find(n => n.title.toLowerCase() === noteTitle.toLowerCase());\r\n          \r\n          if (linkedNote) {\r\n            return (\r\n              <a \r\n                key={index} \r\n                href=\"#\" \r\n                onClick={(e) => { e.preventDefault(); onNoteLinkClick(linkedNote); }}\r\n                className=\"inline-block text-purple-400 font-semibold hover:underline bg-purple-900 bg-opacity-30 p-1 rounded mx-1\"\r\n              >\r\n                {noteTitle}\r\n              </a>\r\n            );\r\n          }\r\n          return <span key={index} className=\"text-gray-500 italic p-1\">{noteTitle}</span>;\r\n        }\r\n        \r\n        return <span key={index}>{part}</span>;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function ReadingPane({ activeNote, notes, onEdit, onNoteLinkClick, onGoBack, onGoForward, canGoBack, canGoForward }: ReadingPaneProps) {\r\n  const supabase = createClientComponentClient();\r\n  const [suggestions, setSuggestions] = useState<string[]>([]);\r\n  const [tags, setTags] = useState<string[]>([]);\r\n  const [backlinks, setBacklinks] = useState<{ id: number; title: string; }[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    if (activeNote) {\r\n      setIsLoading(true);\r\n      setSuggestions([]); setTags([]); setBacklinks([]);\r\n      const timer = setTimeout(async () => {\r\n        try {\r\n          const [contentRes, tagsRes, backlinksRes] = await Promise.all([\r\n            supabase.functions.invoke('suggest-content', { body: { title: activeNote.title, content: activeNote.content } }),\r\n            supabase.functions.invoke('suggest-tags', { body: { title: activeNote.title, content: activeNote.content, userId: activeNote.user_id } }),\r\n            supabase.rpc('get_backlinks_for_note', { note_title: activeNote.title })\r\n          ]);\r\n          if (contentRes.data) setSuggestions(contentRes.data.suggestions);\r\n          if (tagsRes.data && Array.isArray(tagsRes.data.tags)) setTags(tagsRes.data.tags.filter((tag: string) => !activeNote.content.includes(`#${tag}`)));\r\n          if (backlinksRes.data) setBacklinks(backlinksRes.data);\r\n        } catch (error) {\r\n          console.error(\"AI Assistant Error:\", error);\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }, 500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [activeNote, supabase]);\r\n\r\n  if (!activeNote) {\r\n    return (\r\n      <div className=\"p-6 flex-1 flex items-center justify-center text-gray-500\">\r\n        Okumak ve etkile≈üim kurmak i√ßin l√ºtfen not listesinden bir not se√ßin.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 flex-1 flex flex-col overflow-y-auto\">\r\n      <div className=\"flex-grow\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <button onClick={onGoBack} disabled={!canGoBack} className=\"p-2 rounded-full hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\"><path fillRule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clipRule=\"evenodd\" /></svg>\r\n            </button>\r\n            <button onClick={onGoForward} disabled={!canGoForward} className=\"p-2 rounded-full hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\"><path fillRule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" /></svg>\r\n            </button>\r\n            <h1 className=\"text-4xl font-bold\">{activeNote.title}</h1>\r\n          </div>\r\n          <button onClick={() => onEdit(activeNote)} className=\"px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 font-semibold\">D√ºzenle</button>\r\n        </div>\r\n        <div className=\"prose prose-invert prose-lg max-w-none\">\r\n          <WikiLinkRenderer content={activeNote.content} notes={notes} onNoteLinkClick={onNoteLinkClick} />\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"flex-shrink-0 mt-8 pt-6 border-t border-gray-700\">\r\n        <h2 className=\"text-xl font-bold mb-4\">‚ú® AI Asistan</h2>\r\n        {isLoading ? <p className=\"text-gray-400\">√ñneriler y√ºkleniyor...</p> : \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <h3 className=\"font-semibold text-gray-300 mb-2\">ƒ∞√ßerik √ñnerileri</h3>\r\n              {suggestions && suggestions.length > 0 ? <ul className=\"list-disc list-inside space-y-1 text-sm\">{suggestions.map((s, i) => <li key={i}>{s}</li>)}</ul> : <p className=\"text-sm text-gray-500\">Uygun √∂neri bulunamadƒ±.</p>}\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-semibold text-gray-300 mb-2\">Etiket √ñnerileri</h3>\r\n              {tags && tags.length > 0 ? <div className=\"flex flex-wrap gap-2\">{tags.map(tag => <span key={tag} className=\"px-2 py-1 text-xs bg-gray-700 rounded-full\">#{tag}</span>)}</div> : <p className=\"text-sm text-gray-500\">Uygun √∂neri bulunamadƒ±.</p>}\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-semibold text-gray-300 mb-2\">Geri Baƒülantƒ±lar (Backlinks)</h3>\r\n              {backlinks && backlinks.length > 0 ? <div className=\"flex flex-wrap gap-2\">{backlinks.map(link => <button key={link.id} onClick={() => onNoteLinkClick(notes.find(n=>n.id===link.id)!)} className=\"px-2 py-1 text-xs bg-gray-700 rounded-full hover:bg-gray-600\">[[{link.title}]]</button>)}</div> : <p className=\"text-sm text-gray-500\">Bu nota link veren ba≈üka not bulunamadƒ±.</p>}\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AAEA;;;AAJA;;;AAmBA,MAAM,mBAAmB;QAAC,EAAE,OAAO,EAAE,KAAK,EAAE,eAAe,EAA6E;IACtI,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,QAAQ,QAAQ,KAAK,CAAC;IAE5B,qBACE,6LAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,MAAM;YAChB,IAAI,KAAK,UAAU,CAAC,SAAS,KAAK,QAAQ,CAAC,OAAO;gBAChD,MAAM,YAAY,KAAK,SAAS,CAAC,GAAG,KAAK,MAAM,GAAG;gBAClD,MAAM,aAAa,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,CAAC,WAAW,OAAO,UAAU,WAAW;gBAElF,IAAI,YAAY;oBACd,qBACE,6LAAC;wBAEC,MAAK;wBACL,SAAS,CAAC;4BAAQ,EAAE,cAAc;4BAAI,gBAAgB;wBAAa;wBACnE,WAAU;kCAET;uBALI;;;;;gBAQX;gBACA,qBAAO,6LAAC;oBAAiB,WAAU;8BAA4B;mBAA7C;;;;;YACpB;YAEA,qBAAO,6LAAC;0BAAkB;eAAR;;;;;QACpB;;;;;;AAGN;KA/BM;AAiCS,SAAS,YAAY,KAAgH;QAAhH,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,eAAe,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,YAAY,EAAoB,GAAhH;;IAClC,MAAM,WAAW,CAAA,GAAA,2KAAA,CAAA,8BAA2B,AAAD;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAC3D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAoC,EAAE;IAC/E,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,IAAI,YAAY;gBACd,aAAa;gBACb,eAAe,EAAE;gBAAG,QAAQ,EAAE;gBAAG,aAAa,EAAE;gBAChD,MAAM,QAAQ;mDAAW;wBACvB,IAAI;4BACF,MAAM,CAAC,YAAY,SAAS,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;gCAC5D,SAAS,SAAS,CAAC,MAAM,CAAC,mBAAmB;oCAAE,MAAM;wCAAE,OAAO,WAAW,KAAK;wCAAE,SAAS,WAAW,OAAO;oCAAC;gCAAE;gCAC9G,SAAS,SAAS,CAAC,MAAM,CAAC,gBAAgB;oCAAE,MAAM;wCAAE,OAAO,WAAW,KAAK;wCAAE,SAAS,WAAW,OAAO;wCAAE,QAAQ,WAAW,OAAO;oCAAC;gCAAE;gCACvI,SAAS,GAAG,CAAC,0BAA0B;oCAAE,YAAY,WAAW,KAAK;gCAAC;6BACvE;4BACD,IAAI,WAAW,IAAI,EAAE,eAAe,WAAW,IAAI,CAAC,WAAW;4BAC/D,IAAI,QAAQ,IAAI,IAAI,MAAM,OAAO,CAAC,QAAQ,IAAI,CAAC,IAAI,GAAG,QAAQ,QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM;+DAAC,CAAC,MAAgB,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,AAAC,IAAO,OAAJ;;4BACzI,IAAI,aAAa,IAAI,EAAE,aAAa,aAAa,IAAI;wBACvD,EAAE,OAAO,OAAO;4BACd,QAAQ,KAAK,CAAC,uBAAuB;wBACvC,SAAU;4BACR,aAAa;wBACf;oBACF;kDAAG;gBACH;6CAAO,IAAM,aAAa;;YAC5B;QACF;gCAAG;QAAC;QAAY;KAAS;IAEzB,IAAI,CAAC,YAAY;QACf,qBACE,6LAAC;YAAI,WAAU;sBAA4D;;;;;;IAI/E;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAO,SAAS;wCAAU,UAAU,CAAC;wCAAW,WAAU;kDACzD,cAAA,6LAAC;4CAAI,OAAM;4CAA6B,WAAU;4CAAU,SAAQ;4CAAY,MAAK;sDAAe,cAAA,6LAAC;gDAAK,UAAS;gDAAU,GAAE;gDAAoH,UAAS;;;;;;;;;;;;;;;;kDAE9P,6LAAC;wCAAO,SAAS;wCAAa,UAAU,CAAC;wCAAc,WAAU;kDAC/D,cAAA,6LAAC;4CAAI,OAAM;4CAA6B,WAAU;4CAAU,SAAQ;4CAAY,MAAK;sDAAe,cAAA,6LAAC;gDAAK,UAAS;gDAAU,GAAE;gDAAqH,UAAS;;;;;;;;;;;;;;;;kDAE/P,6LAAC;wCAAG,WAAU;kDAAsB,WAAW,KAAK;;;;;;;;;;;;0CAEtD,6LAAC;gCAAO,SAAS,IAAM,OAAO;gCAAa,WAAU;0CAAmE;;;;;;;;;;;;kCAE1H,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAiB,SAAS,WAAW,OAAO;4BAAE,OAAO;4BAAO,iBAAiB;;;;;;;;;;;;;;;;;0BAIlF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAyB;;;;;;oBACtC,0BAAY,6LAAC;wBAAE,WAAU;kCAAgB;;;;;6CACxC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDAAmC;;;;;;oCAChD,eAAe,YAAY,MAAM,GAAG,kBAAI,6LAAC;wCAAG,WAAU;kDAA2C,YAAY,GAAG,CAAC,CAAC,GAAG,kBAAM,6LAAC;0DAAY;+CAAJ;;;;;;;;;6DAAqB,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;0CAEjM,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDAAmC;;;;;;oCAChD,QAAQ,KAAK,MAAM,GAAG,kBAAI,6LAAC;wCAAI,WAAU;kDAAwB,KAAK,GAAG,CAAC,CAAA,oBAAO,6LAAC;gDAAe,WAAU;;oDAA6C;oDAAE;;+CAA9D;;;;;;;;;6DAAoF,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;0CAExN,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDAAmC;;;;;;oCAChD,aAAa,UAAU,MAAM,GAAG,kBAAI,6LAAC;wCAAI,WAAU;kDAAwB,UAAU,GAAG,CAAC,CAAA,qBAAQ,6LAAC;gDAAqB,SAAS,IAAM,gBAAgB,MAAM,IAAI,CAAC,CAAA,IAAG,EAAE,EAAE,KAAG,KAAK,EAAE;gDAAK,WAAU;;oDAA+D;oDAAG,KAAK,KAAK;oDAAC;;+CAAhK,KAAK,EAAE;;;;;;;;;6DAA+K,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxV;GAhFwB;MAAA","debugId":null}},
    {"offset": {"line": 1576, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP%20VCTS/Desktop/Projects/ikinci-beyin/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createClientComponentClient } from '@supabase/auth-helpers-nextjs';\nimport { User } from '@supabase/supabase-js';\nimport NoteCreator from '@/components/NoteCreator';\nimport NoteList from '@/components/NoteList';\nimport AIQuizGenerator from '@/components/AIQuizGenerator';\nimport FlashcardView from '@/components/FlashcardView';\nimport dynamic from 'next/dynamic';\nimport ReviewView from '@/components/ReviewView'; \nimport TagSidebar from '@/components/TagSidebar';\nimport FocusView from '@/components/FocusView';\nimport ReadingPane from '@/components/ReadingPane';\n\n// GraphView'i sadece tarayƒ±cƒ±da √ßalƒ±≈ümasƒ± i√ßin dinamik olarak y√ºkl√ºyoruz\nconst DynamicGraphView = dynamic(() => import('@/components/GraphView'), {\n  ssr: false,\n});\n\n// Projemizdeki bir notun tam yapƒ±sƒ±\nexport interface Note {\n  id: number;\n  title: string;\n  content: string;\n  user_id: string;\n  srs_interval: number;\n  srs_ease_factor: number;\n  srs_due_date: string;\n}\n\nexport default function Home() {\n  // --- STATE MANAGEMENT ---\n  const [notes, setNotes] = useState<Note[]>([]);\n  const [editingNote, setEditingNote] = useState<Note | null>(null);\n  const [user, setUser] = useState<User | null>(null);\n  const [selectedNoteIds, setSelectedNoteIds] = useState<Set<number>>(new Set());\n  const [viewMode, setViewMode] = useState<'list' | 'graph' | 'flashcard' | 'review'>('list');\n  const [reviewNotes, setReviewNotes] = useState<Note[]>([]);\n  const [searchTerm, setSearchTerm] = useState(''); // Arama kutusunun i√ßeriƒüini tutar\n  const [searchResults, setSearchResults] = useState<Note[] | null>(null); // Arama sonu√ßlarƒ±nƒ± tutar\n  const [tags, setTags] = useState<{id: number, name: string}[]>([]);\n  const [selectedTag, setSelectedTag] = useState<string | null>(null);\n  const [focusedNote, setFocusedNote] = useState<Note | null>(null);\n  const noteCreatorRef = useRef<HTMLDivElement>(null);\n  const [activeNote, setActiveNote] = useState<Note | null>(null);\n  const [history, setHistory] = useState<number[]>([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [isQuizGeneratorVisible, setIsQuizGeneratorVisible] = useState(false);\n  // Aralƒ±klƒ± Tekrar (SRS) Algoritmasƒ±\n  const handleSelectNote = (note: Note) => {\n    if (activeNote?.id === note.id) return;\n    \n    setViewMode('list'); // D√úZELTME: Herhangi bir moddayken nota tƒ±klanƒ±nca liste moduna ge√ß.\n    setEditingNote(null);\n    setActiveNote(note);\n    \n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push(note.id);\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  };\n  \n  const goBack = () => {\n    if (historyIndex > 0) {\n      const prevNoteId = history[historyIndex - 1];\n      const prevNote = notes.find(n => n.id === prevNoteId);\n      if (prevNote) setActiveNote(prevNote);\n      setHistoryIndex(historyIndex - 1);\n    }\n  };\n\n  const goForward = () => {\n    if (historyIndex < history.length - 1) {\n      const nextNoteId = history[historyIndex + 1];\n      const nextNote = notes.find(n => n.id === nextNoteId);\n      if (nextNote) setActiveNote(nextNote);\n      setHistoryIndex(historyIndex + 1);\n    }\n  };\n\nconst handleEditClick = (note: Note) => {\n    setEditingNote(note);\n    setActiveNote(null);\n    setTimeout(() => noteCreatorRef.current?.scrollIntoView({ behavior: 'smooth' }), 0);\n  };\n  \n  const handleReview = async (noteId: number, rating: number) => {\n    const note = notes.find(n => n.id === noteId);\n    if (!user || !note) return;\n\n    let { srs_interval: interval, srs_ease_factor: easeFactor } = note;\n    \n    if (rating >= 3) { // Doƒüru hatƒ±rlandƒ±\n      if (interval === 0) {\n        interval = 1;\n      } else if (interval === 1) {\n        interval = 6;\n      } else {\n        interval = Math.round(interval * easeFactor);\n      }\n    } else { // Yanlƒ±≈ü hatƒ±rlandƒ±\n      interval = 1; // Tekrar aralƒ±ƒüƒ±nƒ± sƒ±fƒ±rla\n    }\n\n    // Kolaylƒ±k fakt√∂r√ºn√º g√ºncelle\n    easeFactor = easeFactor + (0.1 - (5 - rating) * (0.08 + (5 - rating) * 0.02));\n    if (easeFactor < 1.3) easeFactor = 1.3;\n\n    // Bir sonraki tekrar tarihini hesapla (mevcut zamana g√ºn ekleyerek)\n    const dueDate = new Date();\n    dueDate.setDate(dueDate.getDate() + interval);\n\n    // Veritabanƒ±nƒ± yeni deƒüerlerle g√ºncelle\n    const { data, error } = await supabase\n      .from('notes')\n      .update({\n        srs_interval: interval,\n        srs_ease_factor: easeFactor,\n        srs_due_date: dueDate.toISOString(),\n      })\n      .match({ id: noteId })\n      .select()\n      .single();\n\n    if (error) {\n      console.error(\"Error updating SRS data:\", error);\n    } else if (data) {\n      // Local state'i de g√ºncelle\n      setNotes(notes.map(n => n.id === noteId ? data : n));\n      // Tekrar edilen notu listeden √ßƒ±kar\n      setReviewNotes(reviewNotes.filter(n => n.id !== noteId));\n    }\n  };\n\n  // Tekrar moduna ge√ßerken, zamanƒ± gelmi≈ü notlarƒ± filtrele\n// --- GE√áƒ∞Cƒ∞ HATA AYIKLAMA KODU ---\n  const startReviewMode = () => {\n    console.clear(); // Her butona basƒ±ldƒ±ƒüƒ±nda konsolu temizle\n    console.log(\"--- üïµÔ∏è‚Äç‚ôÇÔ∏è TEKRAR MODU HATA AYIKLAMA BA≈ûLADI üïµÔ∏è‚Äç‚ôÇÔ∏è ---\");\n\n    // 1. Filtrelemeden √ñNCE state'teki t√ºm notlarƒ± g√∂relim\n    console.log(`Toplam ${notes.length} adet not state i√ßinde mevcut:`, JSON.parse(JSON.stringify(notes)));\n\n    const now = new Date();\n    // 2. Kar≈üƒ±la≈ütƒ±rma i√ßin kullanƒ±lan \"≈üimdi\" zamanƒ±nƒ± g√∂relim\n    console.log(`Kar≈üƒ±la≈ütƒ±rma zamanƒ± (Now): ${now.toISOString()}`);\n    console.log(\"--- Notlar tek tek kontrol ediliyor... ---\");\n\n    const dueNotes = notes.filter(note => {\n      const dueDate = new Date(note.srs_due_date);\n      const isDateValid = !isNaN(dueDate.getTime());\n      const isDue = isDateValid && dueDate <= now;\n\n      // 3. Her bir not i√ßin karar s√ºrecini detaylƒ±ca yazdƒ±ralƒ±m\n      console.log(\n        `[KONTROL] Not ID: ${note.id}, Ba≈ülƒ±k: \"${note.title}\"\\n` +\n        `  ‚Ä¢ DB Tarihi (srs_due_date): ${note.srs_due_date}\\n` +\n        `  ‚Ä¢ Yorumlanan Tarih: ${isDateValid ? dueDate.toISOString() : 'GE√áERSƒ∞Z TARƒ∞H'}\\n` +\n        `  ‚Ä¢ Tekrar Zamanƒ± Geldi mi? (dueDate <= now): ${isDue}\\n` +\n        `  ‚Ä¢ Tarih Ge√ßerli mi?: ${isDateValid}\\n` +\n        `  ‚û°Ô∏è SONU√á: Tekrar listesine EKLENECEK Mƒ∞? üëâ ${isDue || !isDateValid}`\n      );\n\n      // √ñnceki mantƒ±ƒüƒ±mƒ±z: Tarih ge√ßmi≈üse VEYA tarih ge√ßersizse ekle.\n      return isDue || !isDateValid;\n    });\n\n    // 4. Filtreleme sonrasƒ± sonu√ßlarƒ± g√∂relim\n    console.log(\"--- ‚úÖ HATA AYIKLAMA TAMAMLANDI ‚úÖ ---\");\n    console.log(`Filtreleme sonucu ${dueNotes.length} adet tekrar edilecek not bulundu.`);\n    console.log(\"Bulunan notlar:\", dueNotes);\n    console.log(\"-------------------------------------------------\");\n\n\n    setReviewNotes(dueNotes);\n    setViewMode('review');\n  };\n  \n  // --- INITIALIZATION ---\n  const supabase = createClientComponentClient();\n  const router = useRouter();\n\nuseEffect(() => {\n  const fetchData = async () => {\n    const { data: { session } } = await supabase.auth.getSession();\n    if (!session) {\n      router.push('/auth');\n      return;\n    }\n    setUser(session.user);\n\n    // Etiketleri her zaman √ßekiyoruz\n    const { data: tagsData, error: tagsError } = await supabase.from('tags').select('id, name').order('name');\n    if (tagsError) {\n      console.error('Error fetching tags:', tagsError);\n    } else if (tagsData) {\n      setTags(tagsData);\n    }\n\n    let notesData = null;\n    let notesError = null;\n\n    // Se√ßili bir etiket VARSA, yeni fonksiyonumuzu kullanarak notlarƒ± √ßek\n    if (selectedTag) {\n      const { data, error } = await supabase.rpc('get_notes_by_tag', { tag_name: selectedTag });\n      notesData = data;\n      notesError = error;\n    } else {\n      // Se√ßili bir etiket YOKSA, t√ºm notlarƒ± √ßek\n      const { data, error } = await supabase.from('notes').select('*').order('created_at', { ascending: false });\n      notesData = data;\n      notesError = error;\n    }\n\n    if (notesError) {\n      console.error('Error fetching notes:', notesError);\n    } else if (notesData) {\n      setNotes(notesData);\n    }\n  };\n\n  fetchData();\n}, [supabase, router, selectedTag]); // <-- Dƒ∞KKAT: selectedTag'i baƒüƒ±mlƒ±lƒ±klara ekledik.\n\n  // Sƒ∞LDƒ∞ƒûƒ∞N YERE BUNU EKLE\n// YENƒ∞ ARAMA MANTIƒûI - Sƒ∞LDƒ∞ƒûƒ∞N YERE BUNU EKLE\nuseEffect(() => {\n  if (searchTerm.trim() === '') {\n    setSearchResults(null);\n  } else {\n    const lowerCaseSearchTerm = searchTerm.toLowerCase();\n    const results = notes.filter(note => \n      note.title.toLowerCase().includes(lowerCaseSearchTerm) || \n      note.content.toLowerCase().includes(lowerCaseSearchTerm)\n    );\n    setSearchResults(results);\n  }\n}, [searchTerm, notes]);\n\n  // --- CORE NOTE OPERATIONS ---\n  const handleAddNote = async (title: string, content: string, file: File | null) => {\n    if (!user) return;\n    let finalContent = content;\n\n    if (file) {\n      const cleanFileName = file.name.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[^a-zA-Z0-9.\\-_]/g, '-');\n      const filePath = `${user.id}/${Date.now()}-${cleanFileName}`;\n      const { data: uploadData, error: uploadError } = await supabase.storage.from('note_images').upload(filePath, file);\n      if (uploadData) {\n        const { data: urlData } = supabase.storage.from('note_images').getPublicUrl(uploadData.path);\n        if(urlData.publicUrl) {\n          finalContent += `\\n\\n![${cleanFileName}](${urlData.publicUrl})`;\n        }\n      } else { console.error('Error uploading image:', uploadError); return; }\n    }\n    // D√úZELTME: Yeni not i√ßin ba≈ülangƒ±√ß SRS deƒüerlerini ekliyoruz.\n    const { data, error } = await supabase.from('notes').insert([{ \n      title, \n      content: finalContent, \n      user_id: user.id,\n      srs_due_date: new Date().toISOString(), // Tekrar tarihi \"≈üimdi\" olarak ayarlanƒ±r\n      srs_interval: 0,                       // Aralƒ±k sƒ±fƒ±rdan ba≈ülar\n      srs_ease_factor: 2.5                     // Standart kolaylƒ±k fakt√∂r√º\n    }]).select().single();\n    if (data) {\n      await processTags(data.id, finalContent);\n      setNotes([data, ...notes]);\n    } else console.error('Error adding note:', error);\n  };\n  \n  const handleUpdateNote = async (title: string, content: string, file: File | null) => {\n    if (!user || !editingNote) return;\n    let finalContent = content;\n\n    if (file) {\n      const cleanFileName = file.name.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[^a-zA-Z0-9.\\-_]/g, '-');\n      const filePath = `${user.id}/${Date.now()}-${cleanFileName}`;\n      const { data: uploadData, error: uploadError } = await supabase.storage.from('note_images').upload(filePath, file);\n      if (uploadData) {\n        const { data: urlData } = supabase.storage.from('note_images').getPublicUrl(uploadData.path);\n        if(urlData.publicUrl) {\n          finalContent += `\\n\\n![${cleanFileName}](${urlData.publicUrl})`;\n        }\n      } else { console.error('Error uploading image:', uploadError); return; }\n    }\n    const { data, error } = await supabase.from('notes').update({ title, content: finalContent }).match({ id: editingNote.id }).select().single();\n    if (data) {\n      await processTags(data.id, finalContent);\n      setNotes(notes.map(note => (note.id === editingNote.id ? data : note)));\n      setEditingNote(null);\n    } else console.error('Error updating note:', error);\n  };\n  const processTags = async (noteId: number, content: string) => {\n    if (!user) return;\n    const { error: deleteError } = await supabase.from('note_tags').delete().eq('note_id', noteId);\n    if (deleteError) console.error('Error deleting old note-tag links:', deleteError);\n    const tagsInContent = content.match(/#\\w+/g)?.map(tag => tag.substring(1).toLowerCase()) || [];\n    if (tagsInContent.length === 0) {\n      // Etiket kalmadƒ±ysa tag listesini yenileyelim\n      const { data: updatedTags } = await supabase.from('tags').select('id, name').order('name');\n      if (updatedTags) setTags(updatedTags);\n      return;\n    }\n    const uniqueTags = [...new Set(tagsInContent)];\n    const { data: upsertedTags, error: tagsError } = await supabase.from('tags').upsert(uniqueTags.map(tag => ({ name: tag, user_id: user.id })), { onConflict: 'name, user_id' }).select('id, name');\n    if (tagsError) {\n      console.error('Error upserting tags:', tagsError);\n      return;\n    }\n    if (upsertedTags) {\n      const noteTagLinks = upsertedTags.map(tag => ({ note_id: noteId, tag_id: tag.id, user_id: user.id }));\n      const { error: noteTagsError } = await supabase.from('note_tags').insert(noteTagLinks);\n      if (noteTagsError) {\n        console.error('Error inserting new note-tag links:', noteTagsError);\n      } else {\n        // Etiketler deƒüi≈ütiƒüi i√ßin kenar √ßubuƒüunu g√ºncelle\n        const { data: updatedTags } = await supabase.from('tags').select('id, name').order('name');\n        if (updatedTags) setTags(updatedTags);\n      }\n    }\n  };\n\n  const handleDeleteNote = async (noteId: number) => {\n    const { error } = await supabase.from('notes').delete().match({ id: noteId });\n    if (!error) setNotes(notes.filter(note => note.id !== noteId));\n    else console.error('Error deleting note:', error);\n  };\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut();\n    router.push('/auth');\n  };\n\n\n  // --- UI HANDLERS ---\n  const handleNoteSelectionChange = (noteId: number) => {\n    setSelectedNoteIds(prevSelected => {\n      const newSelected = new Set(prevSelected);\n      if (newSelected.has(noteId)) newSelected.delete(noteId);\n      else newSelected.add(noteId);\n      return newSelected;\n    });\n  };\n  const selectedNotes = notes.filter(note => selectedNoteIds.has(note.id));\n\n  // Arama sonucu varsa onu, yoksa mevcut (zaten etikete g√∂re filtrelenmi≈ü) notlarƒ± kullan\n  const notesToDisplay = searchResults !== null ? searchResults : notes;\n\n  // --- RENDER ---\n return (\n    <>\n      {focusedNote ? (\n        <FocusView note={focusedNote} onClose={() => setFocusedNote(null)} />\n      ) : (\n        <div className=\"flex h-screen bg-gray-900 text-white\">\n          <TagSidebar tags={tags} selectedTag={selectedTag} onTagSelect={setSelectedTag} />\n          <NoteList \n            notes={notesToDisplay}\n            onSelectNote={handleSelectNote} \n            activeNoteId={activeNote?.id}\n            viewMode={viewMode}\n            setViewMode={setViewMode}\n            searchTerm={searchTerm}\n            onSearchChange={setSearchTerm}\n            onNewNote={() => {\n              setActiveNote(null);\n              setViewMode('list');\n               setEditingNote({\n                id: 0, // Ge√ßici ID, yeni not olduƒüunu belirtir\n                title: '', // Ba≈ülangƒ±√ß deƒüeri olarak bo≈ü metin\n                content: '', // Ba≈ülangƒ±√ß deƒüeri olarak bo≈ü metin\n                user_id: user!.id,\n                srs_due_date: new Date().toISOString(),\n                srs_ease_factor: 2.5,\n                srs_interval: 0,\n              });\n              setTimeout(() => noteCreatorRef.current?.scrollIntoView({ behavior: 'smooth' }), 0);\n            }}\n            onStartReview={startReviewMode} \n            selectedNoteIds={selectedNoteIds}\n            onNoteSelectionChange={handleNoteSelectionChange}\n          isQuizGeneratorVisible={isQuizGeneratorVisible}\n          onToggleQuizGenerator={() => setIsQuizGeneratorVisible(!isQuizGeneratorVisible)}\n          />\n          <div className=\"flex-1 flex flex-col border-l border-gray-700\">\n            {viewMode === 'list' && (\n              editingNote ? (\n                <div ref={noteCreatorRef} className=\"p-6 overflow-y-auto h-full\">\n                  <NoteCreator user={user} onNoteAdd={handleAddNote} onNoteUpdate={(title, content, file) => {\n                    handleUpdateNote(title, content, file);\n                    const updatedNote = notes.find(n => n.id === editingNote?.id);\n                    setEditingNote(null);\n                    if(updatedNote) setActiveNote(updatedNote);\n                  }} editingNote={editingNote} setEditingNote={setEditingNote} />\n                </div>\n              ) : (\n                <ReadingPane activeNote={activeNote} notes={notes} onEdit={handleEditClick} onNoteLinkClick={handleSelectNote} onGoBack={goBack} onGoForward={goForward} canGoBack={historyIndex > 0} canGoForward={historyIndex < history.length - 1} />\n              )\n            )}\n            {viewMode === 'graph' && <DynamicGraphView notes={notesToDisplay} onNodeClick={handleEditClick} />}\n            {viewMode === 'flashcard' && <FlashcardView notes={notes} />}\n            {viewMode === 'review' && <ReviewView reviewNotes={reviewNotes} onReview={handleReview} />}\n            {isQuizGeneratorVisible && <AIQuizGenerator selectedNotes={selectedNotes} />}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}